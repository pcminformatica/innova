{% extends 'layout_main-drawer--dismissible_footer_topbar.html' %}
{% block page_description %}Innova Mujer Home, Casa, Dashboard, Home{% endblock %}
{% block page_title %}Innova Mujer Home{% endblock %}
{% block css_script_section %}
<style>
    .alignleft {
	float: left;
}
.alignright {
	float: right;
}
@media print {
  * { overflow: visible !important; } 
  .mdc-top-app-bar__row{
    display: none
  }

  .s-toptab{
    display: none;
  }
  .no-print{
    display: none;
  }

  .footer-about{
    display: none;
  }
  .s-footer{
    display: none;
  }
  @page {size: landscape}
  body {
    background: none;
    -ms-zoom: 2.665;
    margin: 0;
    padding: 0;
  }
  .mdc-snackbar{
    display: none;
  }
}

</style>
{% endblock %}
{% block body %}
<main class="s-main-content">
    <div class="container-color-background">
        <div class="mdc-layout-grid container-size-s">
            <div class="mdc-layout-grid__inner">
              <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone">
                <div class="container-dashboard--messages">
                    <div class="mdc-card mdc-card--color-on-primary">
                        <div class="mdc-tab-bar" role="tablist" data-action-fn="showMessagesContracts">
                            <div class="mdc-tab-scroller">
                                <div class="mdc-tab-scroller__scroll-area">
                                    <div class="mdc-tab-scroller__scroll-content">
                                        <button class="mdc-tab mdc-tab--active" role="tab" aria-selected="true" tabindex="0">
                                            <span class="mdc-tab__content">
                                                <span class="mdc-tab__text-label">Datos de la empresa</span>
                                            </span>
                                            <span class="mdc-tab-indicator mdc-tab-indicator--active">
                                                <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                                            </span>
                                            <span class="mdc-tab__ripple"></span>
                                        </button>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mdc-card__content container-dashboard--messages-msg">
                            
                          <div class="mdc-layout-grid__inner">
                              <div class="mdc-layout-grid__cell--span-4-desktop  mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone">
                                <div class="mdc-typography--body1">
                                    Nombre de la empresa:
                                </div>
                                <label class="mdc-text-field mdc-text-field--filled" id="txt_name" data-assigned-var>
                                    <span class="mdc-text-field__ripple"></span>
                                   
                                    <input id="txt_company_name" value="{{ api.NOMBRE_EMPRESA }}" class="mdc-text-field__input" type="text" aria-labelledby="my-label-id" readonly>
                                    <span lass="mdc-line-ripple"></span>
                                </label>
                              </div>
                              <div class="mdc-layout-grid__cell--span-4-desktop  mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone">
                                <div class="mdc-typography--body1">
                                    RTN:
                                </div>
                                <label class="mdc-text-field mdc-text-field--filled" id="txt_name" data-assigned-var>
                                    <span class="mdc-text-field__ripple"></span>

                                    <input id="txt_company_rtn" value="{{ api.RTN }}" class="mdc-text-field__input" type="text" aria-labelledby="my-label-id" readonly >
                                    <span lass="mdc-line-ripple"></span>
                                </label>
                              </div>
                              <div class="mdc-layout-grid__cell--span-4-desktop  mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone">
                                <div class="mdc-typography--body1">
                                    EMAIL:
                                </div>
                                <label class="mdc-text-field mdc-text-field--filled" id="txt_name" data-assigned-var>
                                    <span class="mdc-text-field__ripple"></span>

                                    <input value="{{ api.EMAIL }}" class="mdc-text-field__input" type="text" aria-labelledby="my-label-id" >
                                    <span lass="mdc-line-ripple"></span>
                                </label>
                              </div>
                              <div class="mdc-layout-grid__cell--span-4-desktop  mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone">
                                <div class="mdc-typography--body1">
                                    TELEFONO:
                                </div>
                                <label class="mdc-text-field mdc-text-field--filled" id="txt_name" data-assigned-var>
                                    <span class="mdc-text-field__ripple"></span>

                                    <input value="{{ api.TELEFONO }}" class="mdc-text-field__input" type="text" aria-labelledby="my-label-id" >
                                    <span lass="mdc-line-ripple"></span>
                                </label>
                              </div>

                              <div class="mdc-layout-grid__cell--span-8-desktop  mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone">
                                <div class="mdc-typography--body1">
                                    DIRECCION:
                                </div>
                                <label class="mdc-text-field mdc-text-field--filled" id="txt_name" data-assigned-var>
                                    <span class="mdc-text-field__ripple"></span>
                                    <span class="mdc-floating-label" id="my-label-id">Escribe tu nombre</span>
                                    <input value="{{ api.DIRECCION }}" class="mdc-text-field__input" type="text" aria-labelledby="my-label-id" >
                                    <span lass="mdc-line-ripple"></span>
                                </label>
                              </div>
                              
                            </div>
                        </div>
          
                            
                         


                        <div class="mdc-card__actions">
                            <div class="mdc-card__actions-buttons">
                            </div>
                            <div class="mdc-card__action-icons">
                                <button class="mdc-icon-button material-icons mdc-card__action mdc-card__action--icon">
                                    <div class="mdc-icon-button__ripple"></div>
                                    more_vert
                                </button>
                            </div>
                        </div>
                    
                    
                </div>
                </div>
            </div>
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-12-phone">
                    <div class="container-dashboard--messages">
                        <div class="mdc-card mdc-card--color-on-primary">
                            <div class="mdc-tab-bar" role="tablist" data-action-fn="showMessagesContracts">
                                <div class="mdc-tab-scroller">
                                    <div class="mdc-tab-scroller__scroll-area">
                                        <div class="mdc-tab-scroller__scroll-content">
                                            <button class="mdc-tab mdc-tab--active" role="tab" aria-selected="true" tabindex="0">
                                                <span class="mdc-tab__content">
                                                    <span class="mdc-tab__text-label">Servicios Recomendados</span>
                                                </span>
                                                <span class="mdc-tab-indicator mdc-tab-indicator--active">
                                                    <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                                                </span>
                                                <span class="mdc-tab__ripple"></span>
                                            </button>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mdc-card__content container-dashboard--messages-msg">
                              <br>
                              <h2>LEGALIZACIÓN</h2>
                              <br>     
                              <div class="mdc-data-table" style="background-color: white;width: 100%;" >
                                <div class="mdc-data-table__table-container">
                                  <table class="mdc-data-table__table_normal" aria-label="Dessert calories">
                                    <thead>
                                      <tr class="mdc-data-table__header-row">
                                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">#</th>
                                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">ACTIVIDAD</th>
                                        <th class="mdc-data-table__header-cell no-print" role="columnheader" scope="col">FECHA</th>
                                        

                                        <th class="mdc-data-table__header-cell no-print" role="columnheader" scope="col">ACCIONES</th>
                                      </tr>
                                      
                                      
                                      
                                    </thead>
                                    <tbody class="mdc-data-table__content">
                                        {% for apix in legalizacion%}
                                        
                                      
                                      <tr class="mdc-data-table__row">
                                        <th class="mdc-data-table__cell" scope="row">
                                            {{loop.index}}
                                        </th>
                                        <th class="mdc-data-table__cell" scope="row" >
                                          <p>
                                            {{ apix.titulo }}
                                          </p>
                                        </th>
                                        <td class="mdc-data-table__cell no-print">
                                          <input type="date" id="date_{{ apix.id }}">
                                        </td>
      
                                    
                                        <td class="mdc-data-table__cell no-print">
                                            <button onclick="agregar('LEGALIZACIÓN', '{{ apix.id }}','{{ apix.titulo }}','date_{{ apix.id }}')" class="mdc-button mdc-button--raised mdc-button--leading" style="--mdc-ripple-fg-size: 75px; --mdc-ripple-fg-scale: 1.8784232240642684; --mdc-ripple-fg-translate-start: 16.41668701171875px, -7.866668701171875px; --mdc-ripple-fg-translate-end: 25.416671752929688px, -19.5px;">
                                            
                                                <span class="mdc-button__ripple"></span>
                                                <i class="material-icons mdc-button__icon" aria-hidden="true">add</i>
                                                <span class="mdc-button__label">Agregar</span>
                                            </button>
                                        </td>
                                      </tr>
                                      {% endfor %}
                                    </tbody>
                                  </table>
                                </div>
                              
                                <div class="mdc-data-table__progress-indicator">
                                  <div class="mdc-data-table__scrim"></div>
                                  <div class="mdc-linear-progress mdc-linear-progress--indeterminate mdc-data-table__linear-progress" role="progressbar" aria-label="Data is being loaded...">
                                    <div class="mdc-linear-progress__buffer">
                                      <div class="mdc-linear-progress__buffer-bar"></div>
                                      <div class="mdc-linear-progress__buffer-dots"></div>
                                    </div>
                                    <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
                                      <span class="mdc-linear-progress__bar-inner"></span>
                                    </div>
                                    <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
                                      <span class="mdc-linear-progress__bar-inner"></span>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <br>
                                <h2>ADMINISTRACIÓN</h2>
                              <br>
                              <div class="mdc-data-table" style="background-color: white;width: 100%;" >
                                <div class="mdc-data-table__table-container">
                                  <table class="mdc-data-mdc-data-table__table_normal" aria-label="Dessert calories">
                                    <thead>
                                      <tr class="mdc-data-table__header-row">
                                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">#</th>
                                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">ACTIVIDAD</th>
                                        <th class="mdc-data-table__header-cell no-print" role="columnheader" scope="col">FECHA</th>
                                        

                                        <th class="mdc-data-table__header-cell no-print" role="columnheader" scope="col">ACCIONES</th>
                                      </tr>
                                      
                                      
                                      
                                    </thead>
                                    <tbody class="mdc-data-table__content">
                                        {% for apix in administracion%}
                                        
                                      
                                      <tr class="mdc-data-table__row">
                                        <th class="mdc-data-table__cell" scope="row">
                                            {{loop.index}}
                                        </th>
                                        <th class="mdc-data-table__cell" scope="row">
                                            {{ apix.titulo }}
                                        </th>
                                        <td class="mdc-data-table__cell no-print">
                                            <input type="date" id="date_{{ apix.id }}">
                                        </td>
      
                                    
                                        <td class="mdc-data-table__cell no-print">
                                            <button onclick="agregar('ADMINISTRACIÓN', '{{ apix.id }}','{{ apix.titulo }}','date_{{ apix.id }}')" class="mdc-button mdc-button--raised mdc-button--leading" style="--mdc-ripple-fg-size: 75px; --mdc-ripple-fg-scale: 1.8784232240642684; --mdc-ripple-fg-translate-start: 16.41668701171875px, -7.866668701171875px; --mdc-ripple-fg-translate-end: 25.416671752929688px, -19.5px;">
                                            
                                                <span class="mdc-button__ripple"></span>
                                                <i class="material-icons mdc-button__icon" aria-hidden="true">add</i>
                                                <span class="mdc-button__label">Agregar</span>
                                            </button>
                                        </td>
                                      </tr>
                                      {% endfor %}
                                    </tbody>
                                  </table>
                                </div>
                              
                                <div class="mdc-data-table__progress-indicator">
                                  <div class="mdc-data-table__scrim"></div>
                                  <div class="mdc-linear-progress mdc-linear-progress--indeterminate mdc-data-table__linear-progress" role="progressbar" aria-label="Data is being loaded...">
                                    <div class="mdc-linear-progress__buffer">
                                      <div class="mdc-linear-progress__buffer-bar"></div>
                                      <div class="mdc-linear-progress__buffer-dots"></div>
                                    </div>
                                    <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
                                      <span class="mdc-linear-progress__bar-inner"></span>
                                    </div>
                                    <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
                                      <span class="mdc-linear-progress__bar-inner"></span>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <br>
                                <h2>PRODUCCIÓN Y AMBIENTE</h2>
                              <br>
                              <div class="mdc-data-table" style="background-color: white;width: 100%;" >
                                <div class="mdc-data-table__table-container">
                                  <table class="mdc-data-table__table_normal" aria-label="Dessert calories">
                                    <thead>
                                      <tr class="mdc-data-table__header-row">
                                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">#</th>
                                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">ACTIVIDAD</th>
                                        <th class="mdc-data-table__header-cell no-print" role="columnheader" scope="col">FECHA</th>
                                        

                                        <th class="mdc-data-table__header-cell no-print" role="columnheader" scope="col">ACCIONES</th>
                                      </tr>
                                      
                                      
                                      
                                    </thead>
                                    <tbody class="mdc-data-table__content">
                                        {% for apix in produccion%}
                                        
                                      
                                      <tr class="mdc-data-table__row">
                                        <th class="mdc-data-table__cell" scope="row">
                                            {{loop.index}}
                                        </th>
                                        <th class="mdc-data-table__cell" scope="row">
                                            <p>
                                              {{ apix.titulo }}
                                            </p>
                                        </th>
                                        <td class="mdc-data-table__cell no-print">
                                          <input type="date" id="date_{{ apix.id }}">
                                        </td>
      
                                    
                                        <td class="mdc-data-table__cell no-print">
                                            <button onclick="agregar('PRODUCCIÓN Y AMBIENTE', '{{ apix.id }}','{{ apix.titulo }}','date_{{ apix.id }}')" class="mdc-button mdc-button--raised mdc-button--leading" style="--mdc-ripple-fg-size: 75px; --mdc-ripple-fg-scale: 1.8784232240642684; --mdc-ripple-fg-translate-start: 16.41668701171875px, -7.866668701171875px; --mdc-ripple-fg-translate-end: 25.416671752929688px, -19.5px;">
                                            
                                                <span class="mdc-button__ripple"></span>
                                                <i class="material-icons mdc-button__icon" aria-hidden="true">add</i>
                                                <span class="mdc-button__label">Agregar</span>
                                            </button>
                                        </td>
                                      </tr>
                                      {% endfor %}
                                    </tbody>
                                  </table>
                                </div>
                              
                                <div class="mdc-data-table__progress-indicator">
                                  <div class="mdc-data-table__scrim"></div>
                                  <div class="mdc-linear-progress mdc-linear-progress--indeterminate mdc-data-table__linear-progress" role="progressbar" aria-label="Data is being loaded...">
                                    <div class="mdc-linear-progress__buffer">
                                      <div class="mdc-linear-progress__buffer-bar"></div>
                                      <div class="mdc-linear-progress__buffer-dots"></div>
                                    </div>
                                    <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
                                      <span class="mdc-linear-progress__bar-inner"></span>
                                    </div>
                                    <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
                                      <span class="mdc-linear-progress__bar-inner"></span>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <br>
                                <h2>ANÁLISIS FINANCIERO</h2>
                              <br>
                              <div class="mdc-data-table" style="background-color: white;width: 100%;" >
                                <div class="mdc-data-table__table-container">
                                  <table class="mdc-data-table__table_normal" aria-label="Dessert calories">
                                    <thead>
                                      <tr class="mdc-data-table__header-row">
                                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">#</th>
                                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">ACTIVIDAD</th>
                                        <th class="mdc-data-table__header-cell no-print" role="columnheader" scope="col">FECHA</th>
                                        

                                        <th class="mdc-data-table__header-cell no-print" role="columnheader" scope="col">ACCIONES</th>
                                      </tr>
                                      
                                      
                                      
                                    </thead>
                                    <tbody class="mdc-data-table__content">
                                        {% for apix in financiera%}
                                        
                                      
                                      <tr class="mdc-data-table__row">
                                        <th class="mdc-data-table__cell" scope="row">
                                            {{loop.index}}
                                        </th>
                                        <th class="mdc-data-table__cell" scope="row">
                                            {{ apix.titulo }}
                                        </th>
                                        <td class="mdc-data-table__cell no-print">
                                          <input type="date" id="date_{{ apix.id }}">
                                        </td>
      
                                    
                                        <td class="mdc-data-table__cell no-print">
                                            <button onclick="agregar('ANÁLISIS FINANCIERO', '{{ apix.id }}','{{ apix.titulo }}','date_{{ apix.id }}')" class="mdc-button mdc-button--raised mdc-button--leading" style="--mdc-ripple-fg-size: 75px; --mdc-ripple-fg-scale: 1.8784232240642684; --mdc-ripple-fg-translate-start: 16.41668701171875px, -7.866668701171875px; --mdc-ripple-fg-translate-end: 25.416671752929688px, -19.5px;">
                                            
                                                <span class="mdc-button__ripple"></span>
                                                <i class="material-icons mdc-button__icon" aria-hidden="true">add</i>
                                                <span class="mdc-button__label">Agregar</span>
                                            </button>
                                        </td>
                                      </tr>
                                      {% endfor %}
                                    </tbody>
                                  </table>
                                </div>
                              
                                <div class="mdc-data-table__progress-indicator">
                                  <div class="mdc-data-table__scrim"></div>
                                  <div class="mdc-linear-progress mdc-linear-progress--indeterminate mdc-data-table__linear-progress" role="progressbar" aria-label="Data is being loaded...">
                                    <div class="mdc-linear-progress__buffer">
                                      <div class="mdc-linear-progress__buffer-bar"></div>
                                      <div class="mdc-linear-progress__buffer-dots"></div>
                                    </div>
                                    <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
                                      <span class="mdc-linear-progress__bar-inner"></span>
                                    </div>
                                    <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
                                      <span class="mdc-linear-progress__bar-inner"></span>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <br>
                                <h2>MERCADEO Y TICs</h2>
                              <br>
                              <div class="mdc-data-table" style="background-color: white;width: 100%;" >
                                <div class="mdc-data-table__table-container">
                                  <table class="mdc-data-table__table_normal" aria-label="Dessert calories">
                                    <thead>
                                      <tr class="mdc-data-table__header-row">
                                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">#</th>
                                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">ACTIVIDAD</th>
                                        <th class="mdc-data-table__header-cell no-print" role="columnheader" scope="col">FECHA</th>
                                        

                                        <th class="mdc-data-table__header-cell no-print" role="columnheader" scope="col">ACCIONES</th>
                                      </tr>
                                      
                                      
                                      
                                    </thead>
                                    <tbody class="mdc-data-table__content">
                                        {% for apix in mercadeo%}
                                        
                                      
                                      <tr class="mdc-data-table__row">
                                        <th class="mdc-data-table__cell" scope="row">
                                            {{loop.index}}
                                        </th>
                                        <th class="mdc-data-table__cell" scope="row">
                                          <p>
                                            {{ apix.titulo }}
                                          </p>
                                        </th>
                                        <td class="mdc-data-table__cell no-print">
                                          <input type="date" id="date_{{ apix.id }}">
                                        </td>
      
                                    
                                        <td class="mdc-data-table__cell no-print">
                                            <button onclick="agregar('MERCADEO Y TICs', '{{ apix.id }}','{{ apix.titulo }}','date_{{ apix.id }}')" class="mdc-button mdc-button--raised mdc-button--leading" style="--mdc-ripple-fg-size: 75px; --mdc-ripple-fg-scale: 1.8784232240642684; --mdc-ripple-fg-translate-start: 16.41668701171875px, -7.866668701171875px; --mdc-ripple-fg-translate-end: 25.416671752929688px, -19.5px;">
                                            
                                                <span class="mdc-button__ripple"></span>
                                                <i class="material-icons mdc-button__icon" aria-hidden="true">add</i>
                                                <span class="mdc-button__label">Agregar</span>
                                            </button>
                                        </td>
                                      </tr>
                                      {% endfor %}
                                    </tbody>
                                  </table>
                                </div>
                              
                                <div class="mdc-data-table__progress-indicator">
                                  <div class="mdc-data-table__scrim"></div>
                                  <div class="mdc-linear-progress mdc-linear-progress--indeterminate mdc-data-table__linear-progress" role="progressbar" aria-label="Data is being loaded...">
                                    <div class="mdc-linear-progress__buffer">
                                      <div class="mdc-linear-progress__buffer-bar"></div>
                                      <div class="mdc-linear-progress__buffer-dots"></div>
                                    </div>
                                    <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
                                      <span class="mdc-linear-progress__bar-inner"></span>
                                    </div>
                                    <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
                                      <span class="mdc-linear-progress__bar-inner"></span>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
              
                                
                             


                            <div class="mdc-card__actions">
                                <div class="mdc-card__actions-buttons">
                                </div>
                                <div class="mdc-card__action-icons">
                                    <button class="mdc-icon-button material-icons mdc-card__action mdc-card__action--icon">
                                        <div class="mdc-icon-button__ripple"></div>
                                        more_vert
                                    </button>
                                </div>
                            </div>
                        
                        
                    </div>
                    </div>
                </div>
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-12-phone">
                    <div class="container-dashboard--messages">
                        <div class="mdc-card mdc-card--color-on-primary">
                            <div class="mdc-tab-bar" role="tablist" data-action-fn="showMessagesContracts">
                                <div class="mdc-tab-scroller">
                                    <div class="mdc-tab-scroller__scroll-area">
                                        <div class="mdc-tab-scroller__scroll-content">
                                            <button class="mdc-tab mdc-tab--active" role="tab" aria-selected="true" tabindex="0">
                                                <span class="mdc-tab__content">
                                                    <span class="mdc-tab__text-label">Plan de Acción</span>
                                                </span>
                                                <span class="mdc-tab-indicator mdc-tab-indicator--active">
                                                    <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                                                </span>
                                                <span class="mdc-tab__ripple"></span>
                                            </button>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mdc-card__content container-dashboard--messages-msg" style="text-align: center">
                                
                                  <div  class="mdc-data-table" style="background-color: white;width: 100%;" >
                                    <div class="mdc-data-table__table-container">
                                      <table id="tbl_plan" class="mdc-data-table__table_normal" aria-label="Dessert calories">
                                        <thead>
                                          <tr class="mdc-data-table__header-row">
                                            <th class="mdc-data-table__header-cell" role="columnheader" scope="col">CATEGORÍA</th>
                                            <th class="mdc-data-table__header-cell" role="columnheader" scope="col">ACTIVIDAD</th>
                                            <th class="mdc-data-table__header-cell" role="columnheader" scope="col">FECHA</th>
                                            

                                            <th class="mdc-data-table__header-cell no-print" role="columnheader" scope="col">ACCIONES</th>
                                          </tr>
                                          
                                          
                                          
                                        </thead>
                                        <tbody id="tablaPlan" class="mdc-data-table__content">
                                          {% for apix in plan %}
                                        
                                      
                                          <tr class="mdc-data-table__row">
                                            <th class="mdc-data-table__cell" scope="row">
                                                {{loop.index}}
                                            </th>
                                            <th class="mdc-data-table__cell" scope="row">
                                              <p>
                                                {{ apix.services.name }}
                                              </p>
                                            </th>
                                            <td class="mdc-data-table__cell ">
                                                {{ apix.date_scheduled.strftime('%Y-%m-%d')  }}
                                            </td>
          
                                        
                                            <td class="mdc-data-table__cell no-print">
                                               Porcentaje de avance: {{ apix.progress  }}%
                                            </td>
                                          </tr>
                                          {% endfor %}
                                        </tbody>
                                      </table>
                                    </div>
                                  
                                    <div class="mdc-data-table__progress-indicator">
                                      <div class="mdc-data-table__scrim"></div>
                                      <div class="mdc-linear-progress mdc-linear-progress--indeterminate mdc-data-table__linear-progress" role="progressbar" aria-label="Data is being loaded...">
                                        <div class="mdc-linear-progress__buffer">
                                          <div class="mdc-linear-progress__buffer-bar"></div>
                                          <div class="mdc-linear-progress__buffer-dots"></div>
                                        </div>
                                        <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
                                          <span class="mdc-linear-progress__bar-inner"></span>
                                        </div>
                                        <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
                                          <span class="mdc-linear-progress__bar-inner"></span>
                                        </div>
                                      </div>
                                    </div>

                          
                                    
                                  </div>
                                  <br><br><br>
                                  {% if plan %}
                                  <button  onclick="printPlan()" class="mdc-button mdc-button--raised mdc-button--leading no-print" style="text-align: center">
                                            
                                    <span class="mdc-button__ripple"></span>
                                    <i class="material-icons mdc-button__icon" aria-hidden="true">download</i>
                                    <span class="mdc-button__label">Imprimir plan de accion</span>
                                  </button>

                                  {% else %}
                                  <button  onclick="savePlan()" class="mdc-button mdc-button--raised mdc-button--leading no-print" style="text-align: center">
                                            
                                    <span class="mdc-button__ripple"></span>
                                    <i class="material-icons mdc-button__icon" aria-hidden="true">download</i>
                                    <span class="mdc-button__label">Guardar plan de accion</span>
                                  </button>
                                  {% endif %}
                            </div>
              
                                
                             


                            <div class="mdc-card__actions">
                                <div class="mdc-card__actions-buttons">
                                </div>
                                <div class="mdc-card__action-icons">
                                    <button class="mdc-icon-button material-icons mdc-card__action mdc-card__action--icon">
                                        <div class="mdc-icon-button__ripple"></div>
                                        more_vert
                                    </button>
                                </div>
                            </div>
                        
                        
                    </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</main>
{% endblock %}
{% block body_script_section %}
<script src="{{ url_for('static', filename='js/superadmin.js') }}"></script>
<script>
    function agregar(categoria,id,servicio,fecha){

        fecha = document.getElementById(fecha).value
        if (fecha){
            var Tbl = document.getElementById("tablaPlan");
            var hilera = document.createElement("tr");
            var celda = document.createElement("td");
            var celda1 = document.createElement("td");
            var celda2 = document.createElement("td");
            var celda3 = document.createElement("td");
            var textoCelda1 = document.createTextNode(servicio);
            var textoCelda2 = document.createTextNode(fecha);
            var textoCelda = document.createTextNode(categoria);


            hilera.className = 'mdc-data-table__row'
            celda1.className = 'mdc-data-table__cell'
            celda2.className = 'mdc-data-table__cell'
            celda3.className = 'mdc-data-table__cell no-print'

        
            celda.appendChild(textoCelda);
            celda1.appendChild(textoCelda1);
            celda2.appendChild(textoCelda2);
            celda3.innerHTML = `
            <button onclick="deleteRow()" class="mdc-button mdc-button--raised mdc-button--leading" style="--mdc-ripple-fg-size: 75px; --mdc-ripple-fg-scale: 1.8784232240642684; --mdc-ripple-fg-translate-start: 16.41668701171875px, -7.866668701171875px; --mdc-ripple-fg-translate-end: 25.416671752929688px, -19.5px;">
                                            
                                            <span class="mdc-button__ripple"></span>
                                            <i class="material-icons mdc-button__icon" aria-hidden="true">close</i>
                                            <span class="mdc-button__label">Eliminar</span>
                                        </button>`
            hilera.appendChild(celda);
            hilera.appendChild(celda1);
            hilera.appendChild(celda2);
            hilera.appendChild(celda3);
            hilera.id =    id                     
            Tbl.appendChild(hilera);
        }else{
            alert('Seleccione una fecha')
        }
        
    }

    function deleteRow() {
   
      var td = event.target.parentNode; 
      var tr = td.parentNode.parentNode; // the row to be removed
      tr.remove()
    }

    function deleteRow() {
   
      var td = event.target.parentNode; 
      var tr = td.parentNode.parentNode; // the row to be removed
      tr.remove()
    }

    function savePlan(){
      const Swal = swcms.returnSwal()
      var resume_table = document.getElementById("tbl_plan");
      var txt_company_name = document.getElementById("txt_company_name").value.trim() || null
      var txt_company_rtn = document.getElementById("txt_company_rtn").value.trim() || null
      

      let services = [];
      if (resume_table.rows.length >1){

        for (var i = 1, row; row = resume_table.rows[i]; i++) {
          //alert(cell[i].innerText);
          col = resume_table.rows[i].cells[2].innerHTML;
          id = resume_table.rows[i].id;
          
          services.push ({service:id,fecha:col})
        }
        console.log(services)
      }else{
        alert('Seleccione un servicio')
        return false
      }

      let postData = {
      "txt_company_name": txt_company_name,
      "txt_company_rtn": txt_company_rtn,
      "services": JSON.stringify(services)
      };
      console.log(postData)
      let apiUrl = '/api/save/action/plan/';
      //document.getElementById('submitSaveButton').disabled = true;

      swcms.postFetch(apiUrl, postData).then((data) => {
        Swal.fire(
          'Éxito',
          'Plan de Acción creado!',
          'success'
        )
        window.setTimeout(() => { window.location.reload(); }, 1500);
    
      }).catch((error) => {
        Swal.fire(
          'Error de conexión',
          'Por favor revisar tu conexión a internet, si el problema persiste contacta al administrador del sistema',
          'error'
        )
        //document.getElementById('submitSaveButton').disabled = false;
      });
      window.print()

    }

    function printPlan(){
      window.print()
    }
</script>
{% endblock %}

