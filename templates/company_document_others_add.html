{% extends 'layout_main-drawer--dismissible_footer_topbar.html' %}
{% block page_description %}Innova, Innova Mujer, conexión innova, Servicios, Buscar, Profesional, Mercado, Talento{% endblock %}
{% block page_title %}Marketplace - Innova{% endblock %}
{% block body %}
<style>
    .mdc-card__media--square::before {
  margin-top: 0px !important;
}

.video {
  width: 100%;
  height: 400px;
  border: 1px solid red;
  overflow: hidden;
  position: relative;
}
#output1 {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
</style>
<main class="s-main-content">
    <div class="container-color-background container-size-m">


        <div class="mdc-layout-grid">


       
            <div class="mdc-layout-grid__inner">
                <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
                    <div class="container-dashboard--card-info">
                        <div class="mdc-card mdc-card--color-on-primary">
                            <div class="mdc-card__content">
                                <div class="mdc-layout-grid">
                                    <div class="mdc-layout-grid__inner">
                                        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6">
                                            <p>
                                                <b>Nombre de la empresa:</b>
                                                {{ company.name }}
                                            </p>
                                            <p>
                                                <b>DNI Empresaria:</b>
                                                {{ company.dni }}
                                            </p>
                                            <p>

                                        </div>
                                        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6">
                                            <b>RTN :</b>
                                            {{ company.rtn }}
                                            </p>
                                            <p>
                                            <b>Direccion:</b>
                                            {{ company.address }}
                                        </p>
                                        </div>
                                        <div class="mdc-layout-grid__cell--span-12-desktop  mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone">
                                            <center>
                                              <a  href="{{ url_for('digitalcenter._company_dashboard',user_uid=company.id) }}" class="mdc-button mdc-button--fullwidth mdc-button--raised mdc-button--small mdc-ripple-upgraded">
                                          
                                              
                                                  <span class="mdc-button__label">Regresar al perfil de empresaria</span>
                                              </a>
                                              </center>
                                          </div>
                                    </div>
                                </div>
                            </div>
              
                        </div>
                    </div>
                </div>
        
              <div class="mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-12-phone">
                <div class="mdc-card  mdc-card--color-on-primary"  style="height: 1000px;">
                    <div class="mdc-card__primary-action" >
                      <div class="mdc-card__media mdc-card__media--square">
                        <div class="mdc-layout-grid">
                            <div class="mdc-layout-grid">
                                <div class="mdc-layout-grid__inner">

                                  <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12-desktop mdc-layout-grid__cell--span-4-tablet 
                                  mdc-layout-grid__cell--span-12-phone mdc-layout-grid__cell--align-middle">

                                    
                                    <h2>
                                        Cargar nuevo documento
                                    </h2>
                                    <p>
                                        Para cargar una nuevo documento,primero selecciona el tipo de documento a mostrar y después da clic en el botón "Seleccione documento" y luego da clic "Enviar Documento" 
                                    </p>
                                    <div id="error-message" style="color: red;"></div>

                                    <div class="mdc-layout-grid__cell--span-12-desktop  mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--span-12-phone">
                                        <div class="mdc-typography--body1">
                                            Selecciona documento
                                        </div>
                                        <div class="mdc-select mdc-select--filled mdc-select--required demo-width-class" id="txt_medio_prefiere" data-assigned-var>
                                            <div class="mdc-select__anchor" aria-required="true"
                                                 role="button"
                                                 aria-haspopup="listbox"
                                                 aria-expanded="false"
                                                 aria-labelledby="demo-label demo-selected-text">
                                              <span class="mdc-select__ripple"></span>
                                              <span id="demo-label" class="mdc-floating-label" hiddenlabel="Selecciona tipo de documento">Seleccione tipo de documento</span>
                                              <span class="mdc-select__selected-text-container">
                                                <span id="demo-selected-text" class="mdc-select__selected-text"></span>
                                              </span>
                                              <span class="mdc-select__dropdown-icon">
                                                <svg
                                                    class="mdc-select__dropdown-icon-graphic"
                                                    viewBox="7 10 10 5" focusable="false">
                                                  <polygon
                                                      class="mdc-select__dropdown-icon-inactive"
                                                      stroke="none"
                                                      fill-rule="evenodd"
                                                      points="7 10 12 15 17 10">
                                                  </polygon>
                                                  <polygon
                                                      class="mdc-select__dropdown-icon-active"
                                                      stroke="none"
                                                      fill-rule="evenodd"
                                                      points="7 15 12 10 17 15">
                                                  </polygon>
                                                </svg>
                                              </span>
                                              <span class="mdc-line-ripple"></span>
                                            </div>
                                          
                                            <div class="mdc-select__menu mdc-menu mdc-menu-surface  mdc-menu-surface--fullwidth">
                                              <ul class="mdc-deprecated-list" role="listbox" aria-label="Food picker listbox">
                                                <li class="mdc-deprecated-list-item mdc-deprecated-list-item--selected" aria-selected="true" data-value="0" role="option">
                                                  <span class="mdc-deprecated-list-item__ripple"></span>
                                                </li>
                                                {% for document_type in document_type %}
                                                <li class="mdc-deprecated-list-item" aria-selected="false" data-value="{{ document_type.id }}" role="option">
                                                  <span class="mdc-deprecated-list-item__ripple"></span>
                                                  <span class="mdc-deprecated-list-item__text">
                                                    {{ document_type.name }}
                                                  </span>
                                                </li>
                                                {% endfor %}

                    
                                              </ul>
                                            </div>
                                        </div>
                                        <br><br>
                                    </div>
                                    <form id="formdocument"  action = "" method="POST" enctype="multipart/form-data">
                                        <input type="hidden" name="txt_company_id"  value="{{company.company_id}}">
                                        <input type="hidden" id="txt_document_id" name="txt_document_id"  >
                                        <input type="hidden"  name="txt_document_version" value="1">
                                        <label htmlFor="upload-photo" style="margin: auto">
                                            <input
                                                style="display:none"
                                                id="upload-photo"
                                                name="upload-carta"
                                                type="file"
                                                onchange="loadFileFicha(event)"
                                            />
                                            
                                            <Fab
                                            <button id="submitSaveButtonPIC" style="background-color: gray;"  class="mdc-button  mdc-button--raised mdc-button--leading">
                                                <span class="mdc-button__ripple"></span>
                                                <i class="material-icons mdc-button__icon" aria-hidden="true"
                                                    >add</i
                                                >
                                                <span class="mdc-button__label">Seleccione documento</span>
                                                </button>
                                            </Fab>
                                            <br />
                                            <br />
                                            
                                            <Fab color="primary" size="small" component="span" aria-label="add">
                                                <AddIcon />
                                            </Fab>
                                            </label>
                                        <br>
                                            <embed id="output2" width="500" height="375" type="application/pdf">
                                        <br><br><br>
                                        
                                        
                

                                        <div class="s-font-align-center">
                                            <button type="submit" class="mdc-button mdc-button--raised mdc-button--leading mdc-button--color-secondary" style="--mdc-ripple-fg-size: 75px; --mdc-ripple-fg-scale: 1.8784232240642684; --mdc-ripple-fg-translate-start: 16.41668701171875px, -7.866668701171875px; --mdc-ripple-fg-translate-end: 25.416671752929688px, -19.5px;">
                                                
                                                <span class="mdc-button__ripple"></span>
                                                <i class="material-icons mdc-button__icon" aria-hidden="true">check</i>
                                                <span class="mdc-button__label">Enviar documento</span>
                                            </button>
                                        </div>
                                    </form>    
                                    
  
                        



            
                           

                      </div>
                                 
                                </div>
                              </div>
                        </div>
                      </div>
                      <!-- ... additional primary action content ... -->
                      <div class="mdc-card__ripple"></div>
                    </div>


                    <br>
                    <br>
                  </div>
              </div>
            </div>
            
          </div>
     
        <div class="container-marketplace--drawer-app-content mdc-drawer-app-content mdc-top-app-bar--fixed-adjust">

            
        </div>
    </div>
</main>
{% endblock %}
{% block body_script_section %}
<script src="{{ url_for('static', filename='js/bundle/marketplace.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/dc.js') }}"></script>

<script>
document.querySelector('.mdc-select').addEventListener('MDCSelect:change', function(event) {
    var selectedValue = event.detail.value;
    document.getElementById('txt_document_id').value = selectedValue;
    console.log(selectedValue)
});
document.getElementById('formdocument').addEventListener('submit', function(event) {


    var documentId = document.getElementById('txt_document_id').value;
    var uploadCarta = document.getElementById('upload-photo').files.length;
    var errorMessage = document.getElementById('error-message');

    var errorMessages = [];

    if (!documentId) {
        errorMessages.push('Por favor, seleccione un tipo de documento.');
    }

    if (uploadCarta === 0) {
        errorMessages.push('Por favor, suba un archivo.');
    }

    if (errorMessages.length > 0) {
        event.preventDefault(); // Previene el envío del formulario
        errorMessage.innerHTML = errorMessages.join('<br>');
    } else {
        errorMessage.textContent = ''; // Limpia el mensaje de error si el valor es válido
    }
   
});
</script>
{% endblock %}